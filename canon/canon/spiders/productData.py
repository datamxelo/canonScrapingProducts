import scrapy


class ProductdataSpider(scrapy.Spider):
    name = 'productData'
    allowed_domains = ['tiendacanon.com.mx']
    start_urls = ['https://www.tiendacanon.com.mx/es/catalogo/eos-rebel-sl3-lente-ef-s18-55mm','https://www.tiendacanon.com.mx/es/catalogo/sl3-18-55mm-cp1300-rp-54','https://www.tiendacanon.com.mx/es/catalogo/t7-efs-18-55mm','https://www.tiendacanon.com.mx/es/catalogo/rebel-t8i-ef18-55mm','https://www.tiendacanon.com.mx/es/catalogo/eos-m50-mark-ii','https://www.tiendacanon.com.mx/es/catalogo/m50-markii-55-250mm','https://www.tiendacanon.com.mx/es/catalogo/eos-m200-efm-15-45-mm-blanca','https://www.tiendacanon.com.mx/es/catalogo/eos-m200-efm-15-45-mm','https://www.tiendacanon.com.mx/es/catalogo/powershot-g7x-markiii-reempacada','https://www.tiendacanon.com.mx/es/catalogo/powershot-g7x-markii-camara-canon','https://www.tiendacanon.com.mx/es/catalogo/powershot-sx70-4k','https://www.tiendacanon.com.mx/es/catalogo/power-shot-zoom-lens-q','https://www.tiendacanon.com.mx/es/catalogo/10-18mm-is-stm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/10-22mm-f-35-45-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/ef-s-17-55mm-f-28-is-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/efs-18-55mm-f35-56-is','https://www.tiendacanon.com.mx/es/catalogo/ef-s-24mm-f-28-stm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/ef-s-18-135mm-is-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/lentes-ef-efs-estandar-tienda-canon/ef-50mm-f-1-4-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/lente-ef-50mm-f-18','https://www.tiendacanon.com.mx/es/catalogo/ef-85mm-f-18-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/ef-50mm-f-1-4-usm-curso','https://www.tiendacanon.com.mx/es/catalogo/lente-ef-50mm-f-18-curso','https://www.tiendacanon.com.mx/es/catalogo/lente-70-300mmis-ii-usm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/lente-75-300mm-canon-zoom','https://www.tiendacanon.com.mx/es/catalogo/lente-ef50mm-stm-reempacado','https://www.tiendacanon.com.mx/es/catalogo/10-18mm-is-stm-reempacado','https://www.tiendacanon.com.mx/es/catalogo/ef-m-22mm-f-2-stm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/efm-28mm-macro','https://www.tiendacanon.com.mx/es/catalogo/rf-100-400mm-f5-6','https://www.tiendacanon.com.mx/es/catalogo/rf-16-mm','https://www.tiendacanon.com.mx/es/catalogo/ef-m-18-150mm-stm-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/ef-M-55-200-IS-USM-lente-canon','https://www.tiendacanon.com.mx/es/catalogo/lente-rf-24-105mm-is-stm','https://www.tiendacanon.com.mx/es/catalogo/rf-50-mm-1-8','https://www.tiendacanon.com.mx/es/catalogo/lente-rf-85mm-stm','https://www.tiendacanon.com.mx/es/catalogo/Lente-RF-35mm-F1-8-MACRO-IS-STM','https://www.tiendacanon.com.mx/es/catalogo/rf-50-mm-1-8-curso','https://www.tiendacanon.com.mx/es/catalogo/impresora-selphy-qx10','https://www.tiendacanon.com.mx/es/catalogo/selphy-impresora-cp1300-tienda-canon','https://www.tiendacanon.com.mx/es/catalogo/impresora-selphy-cp1300-tienda-canon','https://www.tiendacanon.com.mx/es/catalogo/pick-negra','https://www.tiendacanon.com.mx/es/catalogo/pick-blanca','https://www.tiendacanon.com.mx/es/catalogo/impresora-cp133-papel-foto-canon','https://www.tiendacanon.com.mx/es/catalogo/kit-impresora-fotografica-tienda-canon','https://www.tiendacanon.com.mx/es/catalogo/eos-rp-cuerpo-reempacada','https://www.tiendacanon.com.mx/es/catalogo/camara-t7-18-55mm-reempacada','https://www.tiendacanon.com.mx/es/catalogo/eos-m200-efm-15-45-mm-rempacada','https://www.tiendacanon.com.mx/es/catalogo/t100-18-55mm-curso-abc-fotograf%C3%ADa','https://www.tiendacanon.com.mx/es/catalogo/eos-t7-18-55mm-curso-abc-fotografia','https://www.tiendacanon.com.mx/es/catalogo/kit-sl3-academy-online','https://www.tiendacanon.com.mx/es/catalogo/kit-m200-adaptador','https://www.tiendacanon.com.mx/es/catalogo/eos-m50-mark-ii-curso-online','https://www.tiendacanon.com.mx/es/catalogo/eos-m200-efm-15-45-mm-curso-online','https://www.tiendacanon.com.mx/es/catalogo/rebel-t8i-ef18-55mm-curso-online','https://www.tiendacanon.com.mx/es/catalogo/kit-reempacado-t100-75-300','https://www.tiendacanon.com.mx/es/catalogo/kit-t100-reempacada-curso','https://www.tiendacanon.com.mx/es/catalogo/kit-reempacada-m200-curso','https://www.tiendacanon.com.mx/es/catalogo/kit-t7-efs-18-55mm','https://www.tiendacanon.com.mx/es/catalogo/eos-m50-mark-ii-maleta-sd32gb','https://www.tiendacanon.com.mx/es/catalogo/multifuncional-g2160','https://www.tiendacanon.com.mx/es/catalogo/por-funciones/equipos-tinta-continua/impresora-inyecciondetinta-g1110-canon','https://www.tiendacanon.com.mx/es/catalogo/g2110-multifuncional-canon','https://www.tiendacanon.com.mx/es/catalogo/impresora-multifuncional-g3110-canon','https://www.tiendacanon.com.mx/es/catalogo/pixma-g5010','https://www.tiendacanon.com.mx/es/catalogo/pixma-g6010','https://www.tiendacanon.com.mx/es/catalogo/pixma-gm2010','https://www.tiendacanon.com.mx/es/catalogo/impresora-pixma-gm4010','https://www.tiendacanon.com.mx/es/catalogo/impresoras-multifuncionales/equipos-tinta-continua/impresora-multifuncional-g4110-canon','https://www.tiendacanon.com.mx/es/catalogo/tipo-de-producto/equipos-tinta-continua/mlutifuncional-pixma-g3160','https://www.tiendacanon.com.mx/es/catalogo/impresora-d1620-canon','https://www.tiendacanon.com.mx/es/catalogo/d570-laser-multifuncional-canon','https://www.tiendacanon.com.mx/es/catalogo/impresora-imageclass-lbp6230','https://www.tiendacanon.com.mx/es/catalogo/impresora-imageclass-lbp162dw','https://www.tiendacanon.com.mx/es/catalogo/impresora-imageclass-lbp622Cdw','https://www.tiendacanon.com.mx/es/catalogo/impresora-pixma-g7010','https://www.tiendacanon.com.mx/es/catalogo/pixma-g2160-outlet-certificado','https://www.tiendacanon.com.mx/es/catalogo/pixma-g3160-outlet','https://www.tiendacanon.com.mx/es/catalogo/escaner-dr-c240','https://www.tiendacanon.com.mx/es/catalogo/dr-c225-12v-canon','https://www.tiendacanon.com.mx/es/catalogo/scaner-imageformula-p-208ii','https://www.tiendacanon.com.mx/es/catalogo/pixma-g610','https://www.tiendacanon.com.mx/es/catalogo/pixma-g510','https://www.tiendacanon.com.mx/es/catalogo/gx-6010','https://www.tiendacanon.com.mx/es/catalogo/escaner-dr-c230','https://www.tiendacanon.com.mx/es/catalogo/pro-300','https://www.tiendacanon.com.mx/es/catalogo/impresora-pro-200','https://www.tiendacanon.com.mx/es/catalogo/multifuncional-g3160-azul','https://www.tiendacanon.com.mx/es/catalogo/ta-20']


    def parse(self, response):

        price = response.xpath('//*[@itemprop="price"]/text()').get()
        avilability = response.xpath('//*[@itemprop="availability"]/text()').get()


        if avilability == 'Agotado\n\t\t\t\t\t\t':
            avilability = 'out_of_stock'
        else:
            avilability = 'in_stock'


        yield{
            'url' : response.url,
            'avilability' : avilability,
            'price' : price
        }


        




